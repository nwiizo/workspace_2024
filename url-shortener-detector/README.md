# URL短縮検出ツール

URL短縮検出ツールは、ウェブサイトをクロールし、goo.gl、bit.ly、t.co、tinyurl.com、ow.lyなどの様々なURL短縮サービスを検出するための強力で柔軟なツールです。このツールは、ドメインとそのサブドメイン全体でのURL短縮サービスの使用を特定し分析するのに特に役立ちます。

## 主な機能

- ドメイン全体（すべてのサブドメインを含む）をクロール
- 複数のタイプのURL短縮サービスを検出
- パフォーマンス向上のための並行クロールをサポート
- JSONまたはCSV形式での結果出力
- クロールの深さと並行性のカスタマイズが可能

## 使用方法

以下のコマンドでツールを実行します：

```
./url-shortener-detector -u https://example.com -o results -f json -d 5 -c 20
```

### コマンドラインオプション

- `-u, --url`: クロールを開始するベースURL（必須）
- `-o, --output`: 拡張子なしの出力ファイル名（デフォルト: "results"）
- `-f, --format`: 出力形式、"json"または"csv"（デフォルト: "json"）
- `-d, --depth`: 最大クロール深度（デフォルト: 3）
- `-c, --concurrency`: 最大同時リクエスト数（デフォルト: 10）
- `-a, --user-agent`: HTTPリクエストのUser-Agent文字列（デフォルト: "URLShortenerDetector/1.0"）

## 出力

ツールは、選択した形式に応じて`results.json`または`results.csv`という名前のファイルを現在のディレクトリに作成します。このファイルには、検出されたURL短縮サービスに関する以下の情報が含まれます：

- 短縮URLが見つかったURL
- 短縮URL
- URL短縮サービスのタイプ

## 使用例

```
./url-shortener-detector -u https://example.com -o myresults -f csv -d 4 -c 15
```

このコマンドは以下の動作を行います：
1. https://example.com とそのサブドメインをクロール
2. 深さ4ページまでURL短縮サービスを検索
3. 15の同時リクエストを使用
4. 結果を`myresults.csv`というCSVファイルに保存

## 注意事項

- クロール対象のウェブサイトに対して礼儀正しく行動してください。対象サーバーに過度の負荷をかけないよう、並行性と深度のパラメータを調整してください。
- このツールはrobots.txtファイルに設定されたルールを尊重します。
- クロールプロセスはCtrl+Cを押すことでいつでも中断できます。ツールは適切にシャットダウンし、その時点まで収集した結果を保存します。

## コントリビューション

コントリビューションを歓迎します！お気軽にプルリクエストを送ってください。

